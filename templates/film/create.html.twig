{% extends 'base.html.twig' %}

{% macro ligneTable(row) %}
 
                    
                        <td style='width: 15%; padding:0 !important;'>{{ form_widget(row.role, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 20%; padding:0 !important;'>{{ form_widget(row.person.firstName, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 20%; padding:0 !important;'>{{ form_widget(row.person.lastName, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 5%; padding:0 !important;'>{{ form_widget(row.person.gender, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 5%; padding:0 !important;'>{{ form_widget(row.person.nationality, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 5%; padding:0 !important;'>{{ form_widget(row.person.residence, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 5%; padding:0 !important;'>{{ form_widget(row.points, {'attr': {'class': 'form-control-sm'}}) }}</td>
                        <td style='width: 5%; padding:0 !important;'><a><i class="fas fa-pen"></i></td>
                        <td style='width: 5%; padding:0 !important;'><a><i class="fas fa-trash-alt"></i></td>
                    
                   
 {% endmacro ligneTable %}

 {% import _self as formMacros %}

{% block body %}

    {{ form_start(form) }}
        {{ form_row(form.title)}}
        <div class="col-lg-12" id="crew_list"  >
        <table class="table" id="crew_list_table" data-prototype="{{ formMacros.ligneTable(form.crew.vars.prototype)|e('html_attr') }}">
            <thead>
                <th class="w-10">Role</th>
                <th class="w-15">First Name</th>
                <th class="w-15">Last Name</th>
                <th class="w-10">Gender</th>
                <th class="w-10">Nationality</th>
                <th class="w-10">Residence</th>
                <th class="w-10">Points</th>
                <th class="w-10"></th>
            </thead>
        
        {% for row in form.crew %}
             <tr name='test' data-prototype="{{ form_widget(form.crew.vars.prototype)|e('html_attr') }}">
                   {{ formMacros.ligneTable(row)}}
             </tr>
               
        {% endfor %}
        </table>
        </div>
        <button type="submit" class="btn btn-success"> Ajouter</button>
    {{ form_end(form) }}
{% endblock %}